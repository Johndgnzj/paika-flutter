# 📝 Paika 更新日誌

## [1.1.0-alpha.5] - 2026-02-09

### 🐛 Bug 修復
- ✅ **修正分數計算公式** - 從「底 × 2^台數」改為「底 + (台數 × 每台)」
  - 正確計算：底100、每台20、自摸3台 = 100 + (3×20) = 160（每家）
  - 正確計算：底100、每台20、胡5台 = 100 + (5×20) = 200
- ✅ **修正東南西北座位順序** - 改為逆時針排列（東→北→西→南）

### 🎨 UI/UX 改進
- ✅ **優化試算區顏色對比** - 改用琥珀色底、深色文字，更易閱讀

---

## [1.1.0-alpha.4] - 2026-02-09

### ✨ 新功能
- ✅ **快速記分介面優化** - 簡化記分流程
  - 點擊玩家直接彈出統一記分 dialog
  - 整合胡牌、自摸、詐胡選項
  - 台數改用 0-99 選單
  - 快速台數按鈕：屁糊(0台)、自摸台(1台)、門清一摸三(3台)
  - 移除花牌輸入（簡化操作）
  - 移除自訂台數輸入框
  - 即時計算預覽

### 🎨 UI/UX 改進
- 記分流程大幅簡化（3步驟改為1步驟）
- 更直覺的操作介面
- 快速台數預設選項

---

## [1.1.0-alpha.3] - 2026-02-09

### ✨ 新功能
- ✅ **歷史紀錄詳細頁面** - 完整查看牌局資訊
  - 牌局概要資訊（底分、局數、狀態）
  - 最終排名顯示（金銀銅牌）
  - 每局詳細記錄（可展開）
  - 分數變化追蹤
  - 從首頁點擊歷史牌局進入

---

## [1.1.0-alpha] - 2026-02-09

### ✨ 新功能
- ✅ **一炮多響完整實作** - 支援多人同時胡牌
  - 可選擇多位贏家
  - 個別輸入台數和花牌
  - 自動計算分數分配
  - 即時預覽計算結果
- ✅ **換位置功能優化** - 視覺化交換玩家位置
  - 麻將桌視圖
  - 點擊交換操作
  - 動畫回饋
  - 確認變更機制
- ✅ **流局處理（完整版）** - 區分聽牌與未聽牌
  - 選擇聽牌玩家
  - 自訂聽牌獎金
  - 自動計算未聽牌扣款
  - 莊家流局連莊
  - 無聽牌或全員聽牌不計分

### 🎨 UI/UX 改進
- 新增一炮多響專用按鈕（火焰圖示）
- 換位置對話框視覺化設計
- 流局選單整合
- 互動動畫效果

---

## [1.0.0] - 2026-02-09

### 🎉 首次發布（MVP）

#### ✨ 新功能
- ✅ 即時記分介面（點擊玩家操作）
- ✅ 胡牌記錄（放槍）
- ✅ 自摸記錄
- ✅ 詐胡處理
- ✅ 電子骰子
- ✅ 還原上局功能
- ✅ 自動本地儲存
- ✅ 歷史牌局查詢
- ✅ 深色/淺色模式切換
- ✅ 響應式設計（支援手機/平板/電腦）

#### 🎯 計分規則
- 底台設定：50×20, 100×20, 100×50, 300×50, 500×100, 自訂
- 計分公式：底分 × 2^台數
- 自摸加 1 台（可設定）
- 詐胡賠 8 台（可設定）
- 連莊規則：莊家胡牌或流局聽牌

#### 🎨 UI/UX
- 麻將桌視覺化設計
- 玩家卡片即時顯示分數
- 莊家與連莊標示
- 直覺的點擊操作
- Material 3 設計語言

#### 🛠️ 技術特性
- Flutter 3.38.9
- Provider 狀態管理
- SharedPreferences 本地儲存
- Web 優化編譯
- Icon 樹搖優化（減少 99.4% 大小）

---

## 計畫中功能

### v1.1.0（近期）
- [ ] 一炮多響完整實作
- [ ] 換位置功能優化
- [ ] 流局處理（區分聽牌）
- [ ] 歷史紀錄詳細頁面
- [ ] 動畫效果優化

### v1.2.0（中期）
- [ ] 玩家統計分析
- [ ] 圖表視覺化
- [ ] 匯出報表（PDF/Excel）
- [ ] 多場次管理
- [ ] 玩家頭像上傳

### v2.0.0（長期）
- [ ] Firebase 雲端同步
- [ ] 多裝置共享牌局
- [ ] iOS App 上架
- [ ] Android App 上架
- [ ] 社群功能（牌友系統）
- [ ] 線上對戰模式

---

## 更新類型說明
- ✨ 新功能
- 🐛 Bug 修復
- 🎨 UI/UX 改進
- ⚡ 效能優化
- 📝 文件更新
- 🔒 安全性更新

---

*最後更新：2026-02-09*
